{% extends "partners/base_partner.html" %}
{% load static %}
{% block title %}Rental Booking Details{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/booking_detail.css' %}">
{% endblock %}

{% block content %}
<div class="bd-wrap">
  <div class="bd-card bd-card--partner">
    <div class="bd-head">
      <div>
        <h2 class="bd-title">Rental Booking Details</h2>
        <p class="bd-sub">Booking ID: <span class="bd-pill">#{{ booking.id }}</span></p>
      </div>
      <div class="bd-status">
        <span class="bd-badge bd-badge--{{ booking.status|default:'placed' }}">{{ booking.status|default:"Placed" }}</span>
        {% if booking.is_paid %}
          <span class="bd-badge bd-badge--paid">Paid</span>
        {% else %}
          <span class="bd-badge bd-badge--unpaid">Unpaid</span>
        {% endif %}
      </div>
    </div>

    <div class="bd-grid">
      <div class="bd-section">
        <h3>Shop</h3>
        <div class="bd-row"><span>Name</span><b>{{ shop.name }}</b></div>
        <div class="bd-row"><span>Shop Mobile</span><b>{{ shop.mobile_number }}</b></div>
      </div>

      <div class="bd-section">
        <h3>Vehicle</h3>
        <div class="bd-row"><span>Name</span><b>{{ booking.vehicle.name }}</b></div>
        <div class="bd-row"><span>Pickup</span><b>{{ booking.pickup_date }}</b></div>
        <div class="bd-row"><span>Dropoff</span><b>{{ booking.dropoff_date }}</b></div>
      </div>

      <div class="bd-section">
        <h3>Customer</h3>
        <div class="bd-row"><span>User</span><b>{{ booking.user.username }}</b></div>
        <div class="bd-row"><span>Name</span><b>{{ booking.user.username|default:booking.user.get_full_name }}</b></div>
        <div class="bd-row"><span>Customer Mobile</span><b>{{ booking.mobile_number }}</b></div>
        <div class="bd-row"><span>Email</span><b>{{ booking.user.email }}</b></div>
      </div>

      <div class="bd-section">
        <h3>Payment</h3>
        <div class="bd-row"><span>Total</span><b>â‚¹ {{ booking.total_amount }}</b></div>
        <div class="bd-row"><span>Razorpay Order</span><b class="bd-mono">{{ booking.razorpay_order_id|default:"-" }}</b></div>
        <div class="bd-row"><span>Razorpay Payment</span><b class="bd-mono">{{ booking.razorpay_payment_id|default:"-" }}</b></div>
      </div>
    </div>

    <div class="bd-actions">
      <a class="bd-btn bd-btn--ghost" href="{% url 'vehicles:rental_partner_bookings' %}">Back</a>
      
    </div>
  </div>
</div>
{% endblock %}