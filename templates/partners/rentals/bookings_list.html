{% extends 'partners/base_partner.html' %}
{% load static %}
{% block title %}Rental Bookings{% endblock %}
{% block content %}
{% block extra_css %} <link rel="stylesheet" href="{% static 'css/booking_list.css' %}"> {% endblock %}
<div class="container">
  <h2>Rental Bookings</h2>
  <div class="tablewrap">
    <table class="table">
      <thead><tr><th>Customer</th><th>Mobile</th><th>Shop</th><th>Vehicle</th><th>Dates</th><th>Units</th><th>Status</th><th>Paid</th><th></th></tr></thead>
      <tbody>
        {% for b in bookings %}
        
        <tr>
          <td>{{ b.user.username }}</td>
          <td>{{ b.mobile_number|default:b.user.profile.mobile_number|default:"-" }}</td>
          <td>{{ b.vehicle.shop.name }}</td>
          <td>{{ b.vehicle.name }}</td>
          <td>{{ b.pickup_date }} â†’ {{ b.dropoff_date }}</td>
          <td>{{ b.units_count }}</td>
          <td>{{ b.status }}</td>
          <td>{% if b.is_paid %}Yes{% else %}No{% endif %}</td>
          <td><a href="{% url 'vehicles:partner_rental_booking_detail' b.id %}" class="btn-link">View Details</a></td>
        </tr>
        
        {% empty %}
        <tr><td colspan="8">No bookings found.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
